{"ast":null,"code":"var _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.SharedTransition = exports.DefaultSharedTransition = void 0;\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\nvar _animation = require(\"../../animation\");\nfunction _defineProperty(obj, key, value) {\n  key = _toPropertyKey(key);\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}\nfunction _toPropertyKey(arg) {\n  var key = _toPrimitive(arg, \"string\");\n  return typeof key === \"symbol\" ? key : String(key);\n}\nfunction _toPrimitive(input, hint) {\n  if (typeof input !== \"object\" || input === null) return input;\n  var prim = input[Symbol.toPrimitive];\n  if (prim !== undefined) {\n    var res = prim.call(input, hint || \"default\");\n    if (typeof res !== \"object\") return res;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (hint === \"string\" ? String : Number)(input);\n}\nvar supportedProps = ['width', 'height', 'originX', 'originY', 'transform'];\nvar SharedTransition = function () {\n  function SharedTransition() {\n    (0, _classCallCheck2.default)(this, SharedTransition);\n    _defineProperty(this, \"animationFactory\", null);\n    _defineProperty(this, \"defaultDuration\", 500);\n  }\n  (0, _createClass2.default)(SharedTransition, [{\n    key: \"custom\",\n    value: function custom(animationFactory) {\n      this.animationFactory = animationFactory;\n      return this;\n    }\n  }, {\n    key: \"build\",\n    value: function build() {\n      var animationFactory = this.animationFactory;\n      var animationDuration = this.defaultDuration;\n      return function (values) {\n        'worklet';\n\n        var animations = {};\n        var initialValues = {};\n        if (animationFactory) {\n          animations = animationFactory(values);\n          for (var key in animations) {\n            if (!supportedProps.includes(key)) {\n              throw Error(`The prop '${key}' is not supported yet.`);\n            }\n          }\n        } else {\n          for (var propName of supportedProps) {\n            if (propName === 'transform') {\n              var matrix = values.targetTransformMatrix;\n              animations.transformMatrix = (0, _animation.withTiming)(matrix, {\n                duration: animationDuration\n              });\n            } else {\n              var keyToTargetValue = 'target' + propName.charAt(0).toUpperCase() + propName.slice(1);\n              animations[propName] = (0, _animation.withTiming)(values[keyToTargetValue], {\n                duration: animationDuration\n              });\n            }\n          }\n        }\n        for (var _propName in animations) {\n          if (_propName === 'transform') {\n            initialValues.transformMatrix = values.currentTransformMatrix;\n          } else {\n            var keyToCurrentValue = 'current' + _propName.charAt(0).toUpperCase() + _propName.slice(1);\n            initialValues[_propName] = values[keyToCurrentValue];\n          }\n        }\n        return {\n          initialValues: initialValues,\n          animations: animations\n        };\n      };\n    }\n  }], [{\n    key: \"createInstance\",\n    value: function createInstance() {\n      return new SharedTransition();\n    }\n  }, {\n    key: \"custom\",\n    value: function custom(animationFactory) {\n      return this.createInstance().custom(animationFactory);\n    }\n  }, {\n    key: \"build\",\n    value: function build() {\n      return this.createInstance().build();\n    }\n  }]);\n  return SharedTransition;\n}();\nexports.SharedTransition = SharedTransition;\nvar DefaultSharedTransition = SharedTransition;\nexports.DefaultSharedTransition = DefaultSharedTransition;","map":{"version":3,"names":["_animation","require","supportedProps","SharedTransition","_classCallCheck2","default","_defineProperty","_createClass2","key","value","custom","animationFactory","build","animationDuration","defaultDuration","values","animations","initialValues","includes","Error","propName","matrix","targetTransformMatrix","transformMatrix","withTiming","duration","keyToTargetValue","charAt","toUpperCase","slice","currentTransformMatrix","keyToCurrentValue","createInstance","exports","DefaultSharedTransition"],"sources":["E:\\Crop Disease Classifier- Hackaton project\\Android App\\node_modules\\react-native-reanimated\\lib\\module\\reanimated2\\layoutReanimation\\sharedTransitions\\index.ts"],"sourcesContent":["import { withTiming } from '../../animation';\nimport {\n  ILayoutAnimationBuilder,\n  LayoutAnimationFunction,\n  LayoutAnimationsValues,\n} from '../animationBuilder/commonTypes';\nimport { StyleProps } from '../../commonTypes';\n\nconst supportedProps = ['width', 'height', 'originX', 'originY', 'transform'];\n\ntype AnimationFactoryType = (values: LayoutAnimationsValues) => StyleProps;\n\nexport class SharedTransition implements ILayoutAnimationBuilder {\n  animationFactory: AnimationFactoryType | null = null;\n  defaultDuration = 500;\n\n  static createInstance(): SharedTransition {\n    return new SharedTransition();\n  }\n\n  static custom(animationFactory: AnimationFactoryType): SharedTransition {\n    return this.createInstance().custom(animationFactory);\n  }\n\n  custom(animationFactory: AnimationFactoryType): SharedTransition {\n    this.animationFactory = animationFactory;\n    return this;\n  }\n\n  static build(): LayoutAnimationFunction {\n    return this.createInstance().build();\n  }\n\n  build(): LayoutAnimationFunction {\n    const animationFactory = this.animationFactory;\n    const animationDuration = this.defaultDuration;\n    return (values: LayoutAnimationsValues) => {\n      'worklet';\n      let animations: {\n        [key: string]: any;\n      } = {};\n      const initialValues: {\n        [key: string]: any;\n      } = {};\n\n      if (animationFactory) {\n        animations = animationFactory(values);\n        for (const key in animations) {\n          if (!supportedProps.includes(key)) {\n            throw Error(`The prop '${key}' is not supported yet.`);\n          }\n        }\n      } else {\n        for (const propName of supportedProps) {\n          if (propName === 'transform') {\n            const matrix = values.targetTransformMatrix;\n            animations.transformMatrix = withTiming(matrix, {\n              // native screen transition takes around 500ms\n              duration: animationDuration,\n            });\n          } else {\n            const keyToTargetValue =\n              'target' + propName.charAt(0).toUpperCase() + propName.slice(1);\n            animations[propName] = withTiming(values[keyToTargetValue], {\n              // native screen transition takes around 500ms\n              duration: animationDuration,\n            });\n          }\n        }\n      }\n\n      for (const propName in animations) {\n        if (propName === 'transform') {\n          initialValues.transformMatrix = values.currentTransformMatrix;\n        } else {\n          const keyToCurrentValue =\n            'current' + propName.charAt(0).toUpperCase() + propName.slice(1);\n          initialValues[propName] = values[keyToCurrentValue];\n        }\n      }\n\n      return { initialValues, animations };\n    };\n  }\n}\n\nexport const DefaultSharedTransition = SharedTransition;\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}